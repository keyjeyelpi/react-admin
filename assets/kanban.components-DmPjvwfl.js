import{r as b,j as e,I as s}from"./index-Cl2VD-JY.js";import{T as j}from"./title.component-DJ8zYJQQ.js";import{A as C}from"./index-B6xWF5zP.js";import{S as m,T}from"./Stack-CAlv7Zcg.js";import{C as k}from"./Chip-DgOg9SYc.js";import{I as v,D as w}from"./Divider-CT3o85GZ.js";import{C as y}from"./Card-BpGyV5XX.js";import{m as I}from"./proxy-C4WJY15m.js";import"./ButtonBase-_aJzX6If.js";import"./useSlot-BgvJwy6I.js";import"./CircularProgress-CUJ7hMJm.js";const D=({item:a,cards:l,setCards:p})=>{const g=(t,i)=>{const{x:r,y:u}=t.point,f=l.find(x=>{const o=document.getElementById(x.id);if(!o)return!1;const d=o.getBoundingClientRect();return r>=d.left&&r<=d.right&&u>=d.top&&u<=d.bottom});f&&p(x=>{let o=[...x],d;return o=o.map(n=>{const c=n.items.findIndex(h=>h.id===i);return c!==-1&&(d=n.items[c],n.items.splice(c,1)),n}),o=o.map(n=>{if(n.id===f.id&&d){const c={...d,status:n.name.toLowerCase()};n.items.push(c)}return n}),[...o]})};return e.jsx(y,{elevation:0,component:I.div,whileHover:{scale:1.02},whileTap:{scale:.98},drag:!0,dragSnapToOrigin:!0,onDragEnd:(t,i)=>g(i,a.id),sx:{bgcolor:"background.default",borderRadius:1,border:t=>`1px solid ${t.palette.divider}`,"&:hover":{cursor:"grab"},"&:active":{cursor:"grabbing"}},children:a.content},a.id)},E=({items:a})=>{const[l,p]=b.useState(a),g=t=>{p(i=>i.map(r=>r.id===t?{...r,items:[...r.items,{id:s(),content:"New Task"}]}:r)),a.find(i=>i.id===t)?.addAction?.()};return e.jsx(m,{flex:1,flexDirection:"row",gap:2,children:l.map((t,i)=>e.jsxs(e.Fragment,{children:[e.jsxs(m,{id:t.id,flex:1,gap:2,sx:{p:2,borderRadius:1},children:[e.jsxs(m,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(m,{direction:"row",alignItems:"center",gap:1,children:[e.jsx(T,{fontWeight:700,children:t.name}),e.jsx(k,{label:t.items.length,size:"small",sx:{color:"text.primary",backgroundColor:"background.paper",border:r=>`1px solid ${r.palette.divider}`}})]}),e.jsx(v,{onClick:()=>g(t.id),sx:{bgcolor:"primary.main",color:"primary.contrastText","&:hover":{bgcolor:"primary.dark"}},size:"small",children:e.jsx(C,{})})]}),e.jsx(m,{gap:1,children:t.items.map(r=>e.jsx(D,{item:r,cards:l,setCards:p},r.id))})]},t.name),i!==l.length-1&&e.jsx(w,{orientation:"vertical",flexItem:!0})]}))})},N=()=>{const a=[{id:s(),name:"To Do",items:[{id:s(),content:"Task 1"}],addAction:()=>{}},{id:s(),name:"In Progress",items:[{id:s(),content:"Task 2"}]},{id:s(),name:"For Review",items:[{id:s(),content:"Task 3"}]},{id:s(),name:"Finished",items:[{id:s(),content:"Task 4"}]}];return e.jsxs(m,{gap:2,sx:{height:"100%"},children:[e.jsx(j,{subtitle:"Visualize your workflow, track progress, and stay organized."}),e.jsx(E,{items:a})]})};export{N as default};
