import{r as a,h as Y,C as Et,w as xt,x as Pt,j as q,n as Ct,o as wt,q as ft,p as bt,N as Tt,k as Rt}from"./index-DRYVJ-az.js";import{u as K}from"./useSlot-D0bhZ760.js";import{P as At}from"./Paper-DJ0k7X1P.js";import{T as Ot,g as zt,a as st,r as Ht,e as it,o as at,d as Dt,M as Nt}from"./Modal-6sJFXkS8.js";function Bt(t){const{controlled:o,default:n,name:c,state:g="value"}=t,{current:l}=a.useRef(o!==void 0),[u,i]=a.useState(n),e=l?o:u,p=a.useCallback(P=>{l||i(P)},[]);return[e,p]}function jt(t,o){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof o=="function"}function Ft(t,o){if(!t)return o;function n(u,i){const e={};return Object.keys(i).forEach(p=>{jt(p,i[p])&&typeof u[p]=="function"&&(e[p]=(...P)=>{u[p](...P),i[p](...P)})}),e}if(typeof t=="function"||typeof o=="function")return u=>{const i=typeof o=="function"?o(u):o,e=typeof t=="function"?t({...u,...i}):t,p=Y(u?.className,i?.className,e?.className),P=n(e,i);return{...i,...e,...P,...!!p&&{className:p},...i?.style&&e?.style&&{style:{...i.style,...e.style}},...i?.sx&&e?.sx&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}};const c=o,g=n(t,c),l=Y(c?.className,t?.className);return{...o,...t,...g,...!!l&&{className:l},...c?.style&&t?.style&&{style:{...c.style,...t.style}},...c?.sx&&t?.sx&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function Kt({props:t,states:o,muiFormControl:n}){return o.reduce((c,g)=>(c[g]=t[g],n&&typeof t[g]>"u"&&(c[g]=n[g]),c),{})}const Lt=a.createContext(void 0);function Xt(){return a.useContext(Lt)}function _(t){return`scale(${t}, ${t**2})`}const Mt={entering:{opacity:1,transform:_(1)},entered:{opacity:1,transform:"none"}},X=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),J=a.forwardRef(function(o,n){const{addEndListener:c,appear:g=!0,children:l,easing:u,in:i,onEnter:e,onEntered:p,onEntering:P,onExit:M,onExited:W,onExiting:m,style:y,timeout:b="auto",TransitionComponent:k=Ot,...z}=o,R=Et(),H=a.useRef(),C=xt(),A=a.useRef(null),F=Pt(A,zt(l),n),T=r=>f=>{if(r){const v=A.current;f===void 0?r(v):r(v,f)}},L=T(P),O=T((r,f)=>{Ht(r);const{duration:v,delay:D,easing:E}=st({style:y,timeout:b,easing:u},{mode:"enter"});let w;b==="auto"?(w=C.transitions.getAutoHeightDuration(r.clientHeight),H.current=w):w=v,r.style.transition=[C.transitions.create("opacity",{duration:w,delay:D}),C.transitions.create("transform",{duration:X?w:w*.666,delay:D,easing:E})].join(","),e&&e(r,f)}),U=T(p),$=T(m),G=T(r=>{const{duration:f,delay:v,easing:D}=st({style:y,timeout:b,easing:u},{mode:"exit"});let E;b==="auto"?(E=C.transitions.getAutoHeightDuration(r.clientHeight),H.current=E):E=f,r.style.transition=[C.transitions.create("opacity",{duration:E,delay:v}),C.transitions.create("transform",{duration:X?E:E*.666,delay:X?v:v||E*.333,easing:D})].join(","),r.style.opacity=0,r.style.transform=_(.75),M&&M(r)}),I=T(W),B=r=>{b==="auto"&&R.start(H.current||0,r),c&&c(A.current,r)};return q.jsx(k,{appear:g,in:i,nodeRef:A,onEnter:O,onEntered:U,onEntering:L,onExit:G,onExited:I,onExiting:$,addEndListener:B,timeout:b==="auto"?null:b,...z,children:(r,{ownerState:f,...v})=>a.cloneElement(l,{style:{opacity:0,transform:_(.75),visibility:r==="exited"&&!i?"hidden":void 0,...Mt[r],...y,...l.props.style},ref:F,...v})})});J&&(J.muiSupportAuto=!0);function Wt(t){return Ct("MuiPopover",t)}wt("MuiPopover",["root","paper"]);function ct(t,o){let n=0;return typeof o=="number"?n=o:o==="center"?n=t.height/2:o==="bottom"&&(n=t.height),n}function lt(t,o){let n=0;return typeof o=="number"?n=o:o==="center"?n=t.width/2:o==="right"&&(n=t.width),n}function ut(t){return[t.horizontal,t.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function V(t){return typeof t=="function"?t():t}const kt=t=>{const{classes:o}=t;return Rt({root:["root"],paper:["paper"]},Wt,o)},Ut=ft(Nt,{name:"MuiPopover",slot:"Root"})({}),$t=ft(At,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Yt=a.forwardRef(function(o,n){const c=bt({props:o,name:"MuiPopover"}),{action:g,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:i,anchorReference:e="anchorEl",children:p,className:P,container:M,elevation:W=8,marginThreshold:m=16,open:y,PaperProps:b={},slots:k={},slotProps:z={},transformOrigin:R={vertical:"top",horizontal:"left"},TransitionComponent:H,transitionDuration:C="auto",TransitionProps:A={},disableScrollLock:F=!1,...T}=c,L=a.useRef(),O={...c,anchorOrigin:u,anchorReference:e,elevation:W,marginThreshold:m,transformOrigin:R,TransitionComponent:H,transitionDuration:C,TransitionProps:A},U=kt(O),$=a.useCallback(()=>{if(e==="anchorPosition")return i;const s=V(l),h=(s&&s.nodeType===1?s:it(L.current).body).getBoundingClientRect();return{top:h.top+ct(h,u.vertical),left:h.left+lt(h,u.horizontal)}},[l,u.horizontal,u.vertical,i,e]),G=a.useCallback(s=>({vertical:ct(s,R.vertical),horizontal:lt(s,R.horizontal)}),[R.horizontal,R.vertical]),I=a.useCallback(s=>{const d={width:s.offsetWidth,height:s.offsetHeight},h=G(d);if(e==="none")return{top:null,left:null,transformOrigin:ut(h)};const Z=$();let N=Z.top-h.vertical,j=Z.left-h.horizontal;const tt=N+d.height,ot=j+d.width,nt=at(V(l)),et=nt.innerHeight-m,rt=nt.innerWidth-m;if(m!==null&&N<m){const x=N-m;N-=x,h.vertical+=x}else if(m!==null&&tt>et){const x=tt-et;N-=x,h.vertical+=x}if(m!==null&&j<m){const x=j-m;j-=x,h.horizontal+=x}else if(ot>rt){const x=ot-rt;j-=x,h.horizontal+=x}return{top:`${Math.round(N)}px`,left:`${Math.round(j)}px`,transformOrigin:ut(h)}},[l,e,$,G,m]),[B,r]=a.useState(y),f=a.useCallback(()=>{const s=L.current;if(!s)return;const d=I(s);d.top!==null&&s.style.setProperty("top",d.top),d.left!==null&&(s.style.left=d.left),s.style.transformOrigin=d.transformOrigin,r(!0)},[I]);a.useEffect(()=>(F&&window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)),[l,F,f]);const v=()=>{f()},D=()=>{r(!1)};a.useEffect(()=>{y&&f()}),a.useImperativeHandle(g,()=>y?{updatePosition:()=>{f()}}:null,[y,f]),a.useEffect(()=>{if(!y)return;const s=Dt(()=>{f()}),d=at(V(l));return d.addEventListener("resize",s),()=>{s.clear(),d.removeEventListener("resize",s)}},[l,y,f]);let E=C;const w={slots:{transition:H,...k},slotProps:{transition:A,paper:b,...z}},[Q,dt]=K("transition",{elementType:J,externalForwardedProps:w,ownerState:O,getSlotProps:s=>({...s,onEntering:(d,h)=>{s.onEntering?.(d,h),v()},onExited:d=>{s.onExited?.(d),D()}}),additionalProps:{appear:!0,in:y}});C==="auto"&&!Q.muiSupportAuto&&(E=void 0);const pt=M||(l?it(V(l)).body:void 0),[S,{slots:ht,slotProps:mt,...gt}]=K("root",{ref:n,elementType:Ut,externalForwardedProps:{...w,...T},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:k.backdrop},slotProps:{backdrop:Ft(typeof z.backdrop=="function"?z.backdrop(O):z.backdrop,{invisible:!0})},container:pt,open:y},ownerState:O,className:Y(U.root,P)}),[yt,vt]=K("paper",{ref:L,className:U.paper,elementType:$t,externalForwardedProps:w,shouldForwardComponentProp:!0,additionalProps:{elevation:W,style:B?void 0:{opacity:0}},ownerState:O});return q.jsx(S,{...gt,...!Tt(S)&&{slots:ht,slotProps:mt,disableScrollLock:F},children:q.jsx(Q,{...dt,timeout:E,children:q.jsx(yt,{...vt,children:p})})})});export{Lt as F,J as G,Yt as P,Xt as a,$t as b,Kt as f,Ft as m,Bt as u};
